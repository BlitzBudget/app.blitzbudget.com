(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{638:function(e,t,r){"use strict";r.r(t);var n,o=r(4),l=(r(18),r(5)),m=(r(422),r(64),r(423)),c=r.n(m),d=(r(424),r(425)),v=r.n(d),f=(r(426),r(427)),_=r.n(f),A=(r(8),r(41)),$={components:(n={},Object(l.a)(n,_.a.name,_.a),Object(l.a)(n,"TagsInput",A.i),Object(l.a)(n,v.a.name,v.a),Object(l.a)(n,c.a.name,c.a),n),data:function(){return{filterable:!0,clearable:!0,model:{targetAmount:null,goalName:null,targetDate:null,sk:null,currentAmount:null},modelValidations:{targetAmount:{required:!0,min_value:1},goalName:{required:!0},targetDate:{required:!0},currentAmount:{required:!0,min_value:1}},currency:null}},methods:{getError:function(e){return this.errors.first(e)},validate:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$wallet.setCurrentWallet(e);case 2:r=t.sent,e.$validator.validateAll().then((function(t){e.$emit("on-submit",e.model,t,r.WalletId)}));case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$wallet.setCurrentWallet(e);case 2:r=t.sent,e.currency=r.WalletCurrency,e.model.targetAmount=e.$route.params.target_amount,e.model.goalName=e.$route.params.goal_name,e.model.targetDate=e.$route.params.target_date,e.model.sk=e.$route.params.goal_id,e.model.currentAmount=e.$route.params.current_amount;case 9:case"end":return t.stop()}}),t)})))()}},h=r(2),component=Object(h.a)($,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"extended-forms"},[t("card",{attrs:{"footer-classes":"text-left"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("h4",{staticClass:"card-title"},[e._v(e._s(e.$t("goal.edit.title")))])]),e._v(" "),t("div",[t("base-input",{directives:[{name:"validate",rawName:"v-validate",value:e.modelValidations.targetAmount,expression:"modelValidations.targetAmount"}],attrs:{label:e.$t("goal.edit.targetAmount"),required:"",error:e.getError("targetAmount"),name:"targetAmount",type:"number",autofocus:"",placeholder:e.currency},model:{value:e.model.targetAmount,callback:function(t){e.$set(e.model,"targetAmount",t)},expression:"model.targetAmount"}}),e._v(" "),t("base-input",{directives:[{name:"validate",rawName:"v-validate",value:e.modelValidations.goalName,expression:"modelValidations.goalName"}],attrs:{label:e.$t("goal.edit.goalName"),required:"",error:e.getError("goalName"),name:"goalName",type:"text"},model:{value:e.model.goalName,callback:function(t){e.$set(e.model,"goalName",t)},expression:"model.goalName"}}),e._v(" "),t("base-input",{directives:[{name:"validate",rawName:"v-validate",value:e.modelValidations.targetDate,expression:"modelValidations.targetDate"}],attrs:{label:e.$t("goal.edit.targetDate"),required:"",error:e.getError("targetDate"),name:"targetDate",type:"datetime"},model:{value:e.model.targetDate,callback:function(t){e.$set(e.model,"targetDate",t)},expression:"model.targetDate"}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("goal.edit.placeholder.targetDate")},model:{value:e.model.targetDate,callback:function(t){e.$set(e.model,"targetDate",t)},expression:"model.targetDate"}})],1),e._v(" "),t("base-input",{directives:[{name:"validate",rawName:"v-validate",value:e.modelValidations.currentAmount,expression:"modelValidations.currentAmount"}],attrs:{label:e.$t("goal.edit.currentAmount"),required:"",error:e.getError("currentAmount"),name:"currentAmount",type:"number",autofocus:"",placeholder:e.currency},model:{value:e.model.currentAmount,callback:function(t){e.$set(e.model,"currentAmount",t)},expression:"model.currentAmount"}}),e._v(" "),t("div",{staticClass:"small form-category"},[e._v(e._s(e.$t("goal.edit.required-fields")))])],1),e._v(" "),t("template",{slot:"footer"},[t("base-button",{attrs:{"native-type":"submit",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[e._v(e._s(e.$t("goal.edit.submit")))]),e._v(" "),t("nuxt-link",{staticClass:"float-right",attrs:{to:"/goals"}},[e._v(e._s(e.$t("goal.edit.to")))])],1)],2)],1)}),[],!1,null,null,null),x={name:"edit-goals",layout:"plain",components:{GoalForm:component.exports},data:function(){return{goalModel:{}}},methods:{editGoal:function(e,t,r){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t){o.next=2;break}return o.abrupt("return");case 2:return n.goalModel=e,o.next=5,n.$axios.$patch("/goals",{pk:r,sk:e.sk,target_amount:parseFloat(e.targetAmount),target_date:e.targetDate,goal_name:e.goalName,current_amount:parseFloat(e.currentAmount)}).then((function(){n.$notify({type:"success",icon:"tim-icons icon-check-2",verticalAlign:"bottom",horizontalAlign:"center",message:$nuxt.$t("goal.edit.success")})})).catch((function(e){n.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:e})}));case 5:case"end":return o.stop()}}),o)})))()}}},k=Object(h.a)(x,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container login-page"},[t("notifications"),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("goal-form",{on:{"on-submit":e.editGoal}})],1)])],1)}),[],!1,null,null,null);t.default=k.exports}}]);