(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{582:function(e,t,n){var content=n(604);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("392b5d20",content,!0,{sourceMap:!1})},603:function(e,t,n){"use strict";n(582)},604:function(e,t,n){var r=n(6)((function(i){return i[1]}));r.push([e.i,".navbar-nav .nav-item p{line-height:inherit;margin-left:5px}.confirm-registration-page .btn.btn-link.btn-primary:active,.confirm-registration-page .btn.btn-link.btn-primary:focus,.confirm-registration-page .btn.btn-link.btn-primary:hover{color:#e14eca!important}",""]),r.locals={},e.exports=r},652:function(e,t,n){"use strict";n.r(t);var r=n(4),o=(n(18),{name:"confirm-registration-page",layout:"auth",auth:"guest",data:function(){return{hiddenResend:!1,model:{email:"",password:"",confirmationCode:""}}},methods:{getError:function(e){return this.errors.first(e)},confirmRegistration:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:t.sent&&e.$axios.$post("/profile/confirm-sign-up",{email:e.model.email,new_password:e.model.password,confirmation_code:e.model.confirmationCode}).then((function(t){console.log(t),e.$authentication.storeAllTokens(t,e),localStorage.removeItem(e.$authentication.emailItem)})).catch((function(t){var n=t.response,r=e.$lastElement(e.$splitElement(n.data.message,":"));e.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:r})}));case 4:case"end":return t.stop()}}),t)})))()},resendVerificationCode:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate("email");case 2:if(t.sent){t.next=6;break}return e.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:"Email field is required to resend verification code"}),t.abrupt("return");case 6:e.$axios.$post("/profile/resend-confirmation-code",{email:e.model.email}).then((function(t){console.log(t),hideResendButton(),e.$notify({type:"success",icon:"tim-icons icon-check-2",verticalAlign:"bottom",horizontalAlign:"center",message:$nuxt.$t("user.confirm-registration.resend")})})).catch((function(t){var n=t.response,r=e.$lastElement(e.$splitElement(n.data.message,":"));e.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:r})}));case 7:case"end":return t.stop()}}),t)})))()},hideResendButton:function(){var e=this;this.hiddenResend=!0,setTimeout((function(){e.hiddenResend=!1}),6e4)}},mounted:function(){this.model.confirmationCode=this.$route.query.verify,this.model.email=localStorage.getItem(this.$authentication.emailItem)}}),l=(n(603),n(2)),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container confirm-registration-page"},[t("notifications"),e._v(" "),t("div",{staticClass:"col-lg-4 col-md-6 ml-auto mr-auto"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.confirmRegistration.apply(null,arguments)}}},[t("card",{staticClass:"card-login card-white"},[t("template",{slot:"header"},[t("img",{attrs:{src:"img/card-primary.png",alt:""}}),e._v(" "),t("h1",{staticClass:"card-title"},[e._v(e._s(e.$t("user.confirm-registration.title")))])]),e._v(" "),t("div",[t("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{error:e.getError("email"),name:"email",placeholder:e.$t("user.register.placeholder.email"),autocomplete:"username","addon-left-icon":"tim-icons icon-email-85"},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}}),e._v(" "),t("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{error:e.getError("password"),name:"password",type:"password",placeholder:e.$t("user.register.placeholder.password"),autocomplete:"current-password","addon-left-icon":"tim-icons icon-lock-circle","show-or-hide-password":"true"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}}),e._v(" "),t("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:6",expression:"'required|min:6|max:6'"}],attrs:{name:"VerificationCode",error:e.getError("VerificationCode"),placeholder:e.$t("user.confirm-registration.placholder.verificationCode"),autocomplete:"VerificationCode","addon-left-icon":"tim-icons icon-email-85",autofocus:""},model:{value:e.model.confirmationCode,callback:function(t){e.$set(e.model,"confirmationCode",t)},expression:"model.confirmationCode"}})],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("base-button",{staticClass:"mb-3",attrs:{"native-type":"submit",type:"primary",size:"lg",block:""}},[e._v("\n                        "+e._s(e.$t("user.confirm-registration.verify"))+"\n                    ")]),e._v(" "),t("div",{staticClass:"pull-right"},[t("h6",[t("base-button",{staticClass:"btn btn-link btn-primary",nativeOn:{click:function(t){return e.resendVerificationCode.apply(null,arguments)}}},[e._v("\n                                "+e._s(e.$t("user.confirm-registration.resendVerificationCode"))+"\n                            ")])],1)])],1)],2)],1)])],1)}),[],!1,null,null,null);t.default=component.exports}}]);