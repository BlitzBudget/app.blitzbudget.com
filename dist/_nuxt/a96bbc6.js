(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{563:function(t,e,r){"use strict";r.d(e,"a",(function(){return d})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return f}));r(23),r(15),r(19),r(29),r(30);var n=r(5);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={maintainAspectRatio:!1,legend:{display:!1},responsive:!0},d=(c(c({},l),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#2380f7"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#2380f7"}}]}}),c(c({},l),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),c(c({},l),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{yAxes:[{gridLines:{drawBorder:!1,color:"rgba(253,93,147,0.1)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{gridLines:{drawBorder:!1,color:"rgba(253,93,147,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}})),h=c(c({},l),{},{cutoutPercentage:70,tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{display:0,ticks:{display:!1},gridLines:{drawBorder:!1,zeroLineColor:"transparent",color:"rgba(255,255,255,0.05)"}}],xAxes:[{display:0,barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{display:!1}}]}}),f=c(c({},l),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9a9a9a"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}]}});c(c({},l),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:50,suggestedMax:110,padding:20,fontColor:"#ff8a76"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(220,53,69,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#ff8a76"}}]}}),c(c({},l),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:50,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(0,242,195,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}}),c(c({},l),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:120,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}})},565:function(t,e,r){var map={"./af":428,"./af.js":428,"./ar":429,"./ar-dz":430,"./ar-dz.js":430,"./ar-kw":431,"./ar-kw.js":431,"./ar-ly":432,"./ar-ly.js":432,"./ar-ma":433,"./ar-ma.js":433,"./ar-sa":434,"./ar-sa.js":434,"./ar-tn":435,"./ar-tn.js":435,"./ar.js":429,"./az":436,"./az.js":436,"./be":437,"./be.js":437,"./bg":438,"./bg.js":438,"./bm":439,"./bm.js":439,"./bn":440,"./bn-bd":441,"./bn-bd.js":441,"./bn.js":440,"./bo":442,"./bo.js":442,"./br":443,"./br.js":443,"./bs":444,"./bs.js":444,"./ca":445,"./ca.js":445,"./cs":446,"./cs.js":446,"./cv":447,"./cv.js":447,"./cy":448,"./cy.js":448,"./da":449,"./da.js":449,"./de":450,"./de-at":451,"./de-at.js":451,"./de-ch":452,"./de-ch.js":452,"./de.js":450,"./dv":453,"./dv.js":453,"./el":454,"./el.js":454,"./en-au":455,"./en-au.js":455,"./en-ca":456,"./en-ca.js":456,"./en-gb":457,"./en-gb.js":457,"./en-ie":458,"./en-ie.js":458,"./en-il":459,"./en-il.js":459,"./en-in":460,"./en-in.js":460,"./en-nz":461,"./en-nz.js":461,"./en-sg":462,"./en-sg.js":462,"./eo":463,"./eo.js":463,"./es":464,"./es-do":465,"./es-do.js":465,"./es-mx":466,"./es-mx.js":466,"./es-us":467,"./es-us.js":467,"./es.js":464,"./et":468,"./et.js":468,"./eu":469,"./eu.js":469,"./fa":470,"./fa.js":470,"./fi":471,"./fi.js":471,"./fil":472,"./fil.js":472,"./fo":473,"./fo.js":473,"./fr":474,"./fr-ca":475,"./fr-ca.js":475,"./fr-ch":476,"./fr-ch.js":476,"./fr.js":474,"./fy":477,"./fy.js":477,"./ga":478,"./ga.js":478,"./gd":479,"./gd.js":479,"./gl":480,"./gl.js":480,"./gom-deva":481,"./gom-deva.js":481,"./gom-latn":482,"./gom-latn.js":482,"./gu":483,"./gu.js":483,"./he":484,"./he.js":484,"./hi":485,"./hi.js":485,"./hr":486,"./hr.js":486,"./hu":487,"./hu.js":487,"./hy-am":488,"./hy-am.js":488,"./id":489,"./id.js":489,"./is":490,"./is.js":490,"./it":491,"./it-ch":492,"./it-ch.js":492,"./it.js":491,"./ja":493,"./ja.js":493,"./jv":494,"./jv.js":494,"./ka":495,"./ka.js":495,"./kk":496,"./kk.js":496,"./km":497,"./km.js":497,"./kn":498,"./kn.js":498,"./ko":499,"./ko.js":499,"./ku":500,"./ku.js":500,"./ky":501,"./ky.js":501,"./lb":502,"./lb.js":502,"./lo":503,"./lo.js":503,"./lt":504,"./lt.js":504,"./lv":505,"./lv.js":505,"./me":506,"./me.js":506,"./mi":507,"./mi.js":507,"./mk":508,"./mk.js":508,"./ml":509,"./ml.js":509,"./mn":510,"./mn.js":510,"./mr":511,"./mr.js":511,"./ms":512,"./ms-my":513,"./ms-my.js":513,"./ms.js":512,"./mt":514,"./mt.js":514,"./my":515,"./my.js":515,"./nb":516,"./nb.js":516,"./ne":517,"./ne.js":517,"./nl":518,"./nl-be":519,"./nl-be.js":519,"./nl.js":518,"./nn":520,"./nn.js":520,"./oc-lnc":521,"./oc-lnc.js":521,"./pa-in":522,"./pa-in.js":522,"./pl":523,"./pl.js":523,"./pt":524,"./pt-br":525,"./pt-br.js":525,"./pt.js":524,"./ro":526,"./ro.js":526,"./ru":527,"./ru.js":527,"./sd":528,"./sd.js":528,"./se":529,"./se.js":529,"./si":530,"./si.js":530,"./sk":531,"./sk.js":531,"./sl":532,"./sl.js":532,"./sq":533,"./sq.js":533,"./sr":534,"./sr-cyrl":535,"./sr-cyrl.js":535,"./sr.js":534,"./ss":536,"./ss.js":536,"./sv":537,"./sv.js":537,"./sw":538,"./sw.js":538,"./ta":539,"./ta.js":539,"./te":540,"./te.js":540,"./tet":541,"./tet.js":541,"./tg":542,"./tg.js":542,"./th":543,"./th.js":543,"./tk":544,"./tk.js":544,"./tl-ph":545,"./tl-ph.js":545,"./tlh":546,"./tlh.js":546,"./tr":547,"./tr.js":547,"./tzl":548,"./tzl.js":548,"./tzm":549,"./tzm-latn":550,"./tzm-latn.js":550,"./tzm.js":549,"./ug-cn":551,"./ug-cn.js":551,"./uk":552,"./uk.js":552,"./ur":553,"./ur.js":553,"./uz":554,"./uz-latn":555,"./uz-latn.js":555,"./uz.js":554,"./vi":556,"./vi.js":556,"./x-pseudo":557,"./x-pseudo.js":557,"./yo":558,"./yo.js":558,"./zh-cn":559,"./zh-cn.js":559,"./zh-hk":560,"./zh-hk.js":560,"./zh-mo":561,"./zh-mo.js":561,"./zh-tw":562,"./zh-tw.js":562};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=565},566:function(t,e,r){"use strict";var n=r(564);e.a={name:"bar-chart",extends:n.a,mixins:[n.d.reactiveProp],props:{extraOptions:Object,gradientColors:{type:Array,default:function(){return["rgba(72,72,176,0.2)","rgba(72,72,176,0.0)","rgba(119,52,169,0)"]},validator:function(t){return t.length>1}},gradientStops:{type:Array,default:function(){return[1,.4,0]},validator:function(t){return t.length>1}}},data:function(){return{ctx:null}},methods:{updateGradients:function(t){var e=this;if(t){var r=(this.ctx||document.getElementById(this.chartId).getContext("2d")).createLinearGradient(0,230,0,50);this.gradientStops.forEach((function(t,n){r.addColorStop(t,e.gradientColors[n])})),t.datasets.forEach((function(t){t.backgroundColor||(t.backgroundColor=r)}))}}},mounted:function(){var t=this;this.$watch("chartData",(function(e,r){t.updateGradients(e),r||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}}},567:function(t,e,r){"use strict";e.a={colors:{default:"#344675",primary:"#42b883",info:"#1d8cf8",danger:"#fd5d93",orange:"#ff8a76",teal:"#00d6b4",primaryGradient:["rgba(76, 211, 150, 0.1)","rgba(53, 183, 125, 0)","rgba(119,52,169,0)"],purpleGradient:["rgba(253,93,147,0.8)","rgba(253,93,147,0)"]},MAPS_API_KEY:"YOUR_GOOGLE_MAPS_API_KEY"}},625:function(t,e,r){"use strict";r.r(e);var n=r(4),o=(r(18),r(564)),c={name:"line-chart",extends:o.b,mixins:[o.d.reactiveProp],props:{extraOptions:Object,gradientColors:{type:Array,default:function(){return["rgba(72,72,176,0.2)","rgba(72,72,176,0.0)","rgba(119,52,169,0)"]},validator:function(t){return t.length>1}},gradientStops:{type:Array,default:function(){return[1,.4,0]},validator:function(t){return t.length>1}}},data:function(){return{ctx:null}},methods:{updateGradients:function(t){var e=this;if(t){var r=(this.ctx||document.getElementById(this.chartId).getContext("2d")).createLinearGradient(0,230,0,50);this.gradientStops.forEach((function(t,n){r.addColorStop(t,e.gradientColors[n])})),t.datasets.forEach((function(t){t.backgroundColor||(t.backgroundColor=r)}))}}},mounted:function(){var t=this;this.$watch("chartData",(function(e,r){t.updateGradients(t.chartData),r||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}},l=r(566),d={components:{BaseTable:r(41).f},data:function(){return{tableData:[{title:"Update the Documentation",description:"Dwuamish Head, Seattle, WA 8:47 AM",done:!1},{title:"GDPR Compliance",description:"The GDPR is a regulation that requires businesses to protect the personal data and privacy of Europe citizens for transactions that occur within EU member states.",done:!0},{title:"Solve the issues",description:"Fifty percent of all respondents said they would be more likely to shop at a company",done:!1},{title:"Release v2.0.0",description:"Ra Ave SW, Seattle, WA 98116, SUA 11:19 AM",done:!1},{title:"Export the processed files",description:"The report also shows that consumers will not easily forgive a company once a breach exposing their personal data occurs.",done:!1},{title:"Arival at export process",description:"Capitol Hill, Seattle, WA 12:34 AM",done:!1}]}}},h=r(2),f=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("base-table",{attrs:{data:t.tableData,"thead-classes":"text-primary"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.row;return[e("td",[e("base-checkbox",{model:{value:n.done,callback:function(e){t.$set(n,"done",e)},expression:"row.done"}})],1),t._v(" "),e("td",[e("p",{staticClass:"title"},[t._v(t._s(n.title))]),t._v(" "),e("p",{staticClass:"text-muted"},[t._v(t._s(n.description))])]),t._v(" "),e("td",{staticClass:"td-actions text-right"},[e("el-tooltip",{attrs:{content:"Edit task",effect:"light","open-delay":300,placement:"top"}},[e("base-button",{attrs:{type:"link"}},[e("i",{staticClass:"tim-icons icon-pencil"})])],1)],1)]}}])})}),[],!1,null,null,null).exports,m=r(166),v=(r(249),r(25),r(10),r(26),{name:"statistice-cards",props:["transactions","categories"],components:{StatsCard:m.a},computed:{calculateExpenses:function(){return this.$n(this.averageExpense)+this.currency},calculateIncome:function(){var t=this.segregateTransactionByCategory(this.transactions);return this.calculateAverages(this.categories,t),this.$n(this.averageIncome)+this.currency}},data:function(){return{averageIncome:0,averageExpense:0,totalInvestment:0,expenseType:"Expense",totalDebts:0,statsCards:[],investmentData:[],debtData:[],currency:null}},methods:{getInvestments:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.$post("/investment",{wallet_id:t}).then((function(t){e.investmentData=t,e.calculateInvestments(t)})).catch((function(t){e.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:t})}));case 2:case"end":return r.stop()}}),r)})))()},calculateInvestments:function(t){for(var e=0,i=0,r=t.length;i<r;i++){e+=t[i].current_value}this.totalInvestment=e,this.statsCards.push({title:this.$n(this.totalInvestment)+this.currency,subTitle:this.$nuxt.$t("overview.statscard.investments.title"),type:"warning",icon:"tim-icons icon-chart-bar-32",footer:{url:"/investments",title:this.$nuxt.$t("overview.statscard.investments.add"),class:"btn-warning"}})},getDebts:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.$post("/debt",{wallet_id:t}).then((function(t){e.debtData=t,e.calculateDebt(t)})).catch((function(t){e.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:t})}));case 2:case"end":return r.stop()}}),r)})))()},calculateDebt:function(t){for(var e=0,i=0,r=t.length;i<r;i++){var n=t[i];e+=n.debted_amount-n.current_value}this.totalDebts=e,this.statsCards.push({title:this.$n(this.totalDebts)+this.currency,subTitle:this.$nuxt.$t("overview.statscard.debts.title"),type:"primary",icon:"tim-icons icon-credit-card",footer:{url:"/debts",title:this.$nuxt.$t("overview.statscard.debts.add"),class:"btn-primary"}})},calculateAverages:function(t,e){var r=0,n=0;if(this.$isNotEmpty(t)){for(var i=0,o=t.length;i<o;i++){var c=t[i],l=e.get(c.sk);if(this.$isNumeric(l))c.category_type==this.expenseType?r+=l:n+=l}this.averageExpense=r/12,this.averageIncome=n/12}},segregateTransactionByCategory:function(t){for(var e=new Map,i=0,r=t.length;i<r;i++){var n=t[i],o=e.get(n.category_id);if(this.$isEmpty(o))e.set(n.category_id,n.amount);else{var c=o+n.amount;e.set(n.category_id,c)}}return e}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$wallet.setCurrentWallet(t);case 2:return r=e.sent,t.currency=r.WalletCurrency,e.next=6,t.getInvestments(r.WalletId);case 6:return e.next=8,t.getDebts(r.WalletId);case 8:case"end":return e.stop()}}),e)})))()}}),y=Object(h.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t._l(t.statsCards,(function(r){return e("div",{key:r.subTitle,staticClass:"col-lg-3 col-md-6"},[e("stats-card",{attrs:{title:r.title,"sub-title":r.subTitle,type:r.type,icon:r.icon}},[e("div",{attrs:{slot:"footer"},slot:"footer"},[e("nuxt-link",{staticClass:"btn-link",class:r.footer.class,attrs:{to:r.footer.url}},[t._v(t._s(r.footer.title)+"\n                ")])],1)])],1)})),t._v(" "),e("div",{staticClass:"col-lg-3 col-md-6"},[e("stats-card",{attrs:{title:t.calculateExpenses,"sub-title":t.$t("overview.statscard.expense.title"),type:"danger",icon:"tim-icons icon-coins"}},[e("div",{attrs:{slot:"footer"},slot:"footer"},[e("nuxt-link",{staticClass:"btn-link btn-danger",attrs:{to:"/transactions"}},[t._v(t._s(t.$t("overview.statscard.expense.add"))+"\n                ")])],1)])],1),t._v(" "),e("div",{staticClass:"col-lg-3 col-md-6"},[e("stats-card",{attrs:{title:t.calculateIncome,"sub-title":t.$t("overview.statscard.income.title"),type:"info",icon:"tim-icons icon-coins"}},[e("div",{attrs:{slot:"footer"},slot:"footer"},[e("nuxt-link",{staticClass:"btn-link btn-info",attrs:{to:"/transactions"}},[t._v(t._s(t.$t("overview.statscard.income.add"))+"\n                ")])],1)])],1)],2)}),[],!1,null,null,null).exports,C=(r(8),r(23),r(15),r(19),r(29),r(30),r(13),r(27),r(9)),j=r(5),x=r(567),w=r(563);function k(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(j.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var D={name:"transactions-yearly-chart",props:["transactions","categories"],components:{LineChart:c},computed:{bigLineChartCategories:function(){return this.bigChartTags},bigLineChart:function(){this.resetBigChart();var t=this.categorizeCategories(this.categories);return this.calculateNetBigChart(this.transactions),this.calculateExpensesByDate(t,this.transactions),{activeIndex:this.bigChartIndex,chartData:{datasets:[L(L({},this.bigChartDatasetOptions),{},{data:this.bigChartData[this.bigChartIndex]})],labels:this.bigChartLabels[this.bigChartIndex]},extraOptions:this.extraOptions,gradientColors:x.a.colors.primaryGradient,gradientStops:[1,.4,0]}},extraOptions:function(){var t=this;return w.c.scales={yAxes:[{ticks:{callback:function(e){return"".concat(t.$n(e)," ").concat(t.currency)}}}]},w.c.tooltips.callbacks={label:function(e){return t.$n(e.yLabel)+t.currency}},w.c},isRTL:function(){return this.$rtl.isRTL}},data:function(){return{expenseType:"Expense",incomeType:"Income",bigChartData:[],bigChartIndex:0,threeLetterMonths:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],bigChartLabels:[],bigChartDatasetOptions:{fill:!0,borderColor:x.a.colors.primary,borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:x.a.colors.primary,pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:x.a.colors.primary,pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4},bigChartTags:[],currency:null}},methods:{resetBigChart:function(){this.bigChartData=[],this.bigChartLabels=[],this.bigChartTags=[]},initBigChart:function(t){var e={datasets:[L(L({},this.bigChartDatasetOptions),{},{data:this.bigChartData[t]})],labels:this.bigChartLabels[t]};this.$refs.bigChart.updateGradients(e),this.bigChartIndex=t},calculateExpensesByDate:function(t,e){if(!this.$isEmpty(e)){for(var r=new Map,n=new Map,i=0,o=e.length;i<o;i++){var c=e[i],l=new Date(c.creation_date),d=this.threeLetterMonths[l.getMonth()]+" "+l.getFullYear(),h=c.amount,f=t.get(c.category_id);if(f==this.expenseType){var m=r.get(d);this.$isNotEmpty(m)&&(h=m+c.amount),r.set(d,h)}else if(f==this.incomeType){var v=r.get(d);this.$isNotEmpty(v)&&(h=v+c.amount),n.set(d,h)}}this.setExpenseChart(r),this.setIncomeChart(n)}},setIncomeChart:function(t){var e,data=[],r=[],n=k(t);try{for(n.s();!(e=n.n()).done;){var o=Object(C.a)(e.value,2),c=o[0],l=o[1];data.push(l),r.push(c)}}catch(t){n.e(t)}finally{n.f()}this.$isEmpty(data)||(this.bigChartData.push(data),this.bigChartLabels.push(r),this.bigChartTags.push({name:"Income",icon:"tim-icons icon-tap-02"}))},setExpenseChart:function(t){var e,data=[],r=[],n=k(t);try{for(n.s();!(e=n.n()).done;){var o=Object(C.a)(e.value,2),c=o[0],l=o[1];data.push(l),r.push(c)}}catch(t){n.e(t)}finally{n.f()}this.$isEmpty(data)||(this.bigChartData.push(data),this.bigChartLabels.push(r),this.bigChartTags.push({name:"Expenses",icon:"tim-icons icon-gift-2"}))},calculateNetBigChart:function(t){if(!this.$isEmpty(t)){for(var e=new Map,i=0,r=t.length;i<r;i++){var n=t[i],o=new Date(n.creation_date),c=this.threeLetterMonths[o.getMonth()]+" "+o.getFullYear(),l=e.get(c),d=n.amount;this.$isNotEmpty(l)&&(d=l+n.amount),e.set(c,d)}var h,data=[],f=[],m=k(e);try{for(m.s();!(h=m.n()).done;){var v=Object(C.a)(h.value,2),y=v[0],j=v[1];data.push(j),f.push(y)}}catch(t){m.e(t)}finally{m.f()}this.bigChartData.push(data),this.bigChartLabels.push(f),this.bigChartTags.push({name:"Net",icon:"tim-icons icon-single-02"})}},categorizeCategories:function(t){for(var e=new Map,i=0,r=t.length;i<r;i++){var n=t[i];n.category_type==this.expenseType?e.set(n.sk,this.expenseType):e.set(n.sk,this.incomeType)}return e}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$wallet.setCurrentWallet(t);case 2:r=e.sent,t.currency=r.WalletCurrency,t.initBigChart(0);case 5:case"end":return e.stop()}}),e)})))()}},A=Object(h.a)(D,(function(){var t=this,e=t._self._c;return e("div",[e("card",{attrs:{type:"chart"}},[e("template",{slot:"header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6",class:t.isRTL?"text-right":"text-left"},[e("h5",{staticClass:"card-category"},[t._v(t._s((new Date).getFullYear()))]),t._v(" "),e("h2",{staticClass:"card-title"},[t._v(t._s(t.$t("overview.yearly.title")))])]),t._v(" "),e("div",{staticClass:"col-sm-6 d-flex d-sm-block"},[e("div",{staticClass:"btn-group btn-group-toggle",class:t.isRTL?"float-left":"float-right",attrs:{"data-toggle":"buttons"}},t._l(t.bigLineChartCategories,(function(option,r){return e("label",{key:option.name,staticClass:"btn btn-sm btn-primary btn-simple",class:{active:t.bigLineChart.activeIndex===r},attrs:{id:r}},[e("input",{attrs:{type:"radio",name:"options",autocomplete:"off"},domProps:{checked:t.bigLineChart.activeIndex===r},on:{click:function(e){return t.initBigChart(r)}}}),t._v(" "),e("span",{staticClass:"d-none d-sm-block"},[t._v(t._s(option.name))]),t._v(" "),e("span",{staticClass:"d-block d-sm-none"},[e("i",{class:option.icon})])])})),0)])])]),t._v(" "),e("div",{staticClass:"chart-area"},[e("line-chart",{ref:"bigChart",staticStyle:{height:"100%"},attrs:{"chart-data":t.bigLineChart.chartData,"gradient-colors":t.bigLineChart.gradientColors,"gradient-stops":t.bigLineChart.gradientStops,"extra-options":t.bigLineChart.extraOptions}})],1)],2)],1)}),[],!1,null,null,null).exports,$={name:"dashboard",components:{LineChart:c,BarChart:l.a,StatsCard:m.a,TaskList:f,StatisticCards:y,TransactionsYearlyChart:A},data:function(){return{startsWithDate:null,endsWithDate:null,currency:null,transactions:[],categories:[]}},computed:{enableRTL:function(){return this.$route.query.enableRTL},isRTL:function(){return this.$rtl.isRTL}},methods:{fetchOverview:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setDatesToFetchTransaction(),e.next=3,t.$wallet.setCurrentWallet(t);case 3:return r=e.sent,t.currency=r.WalletCurrency,e.next=7,t.getTransactions(r.WalletId);case 7:case"end":return e.stop()}}),e)})))()},setDatesToFetchTransaction:function(){var t=new Date;this.setEndsWithDate(t),this.setStartsWithDate(t)},setEndsWithDate:function(t){var e=new Date(t.getFullYear(),12,1);this.endsWithDate=e.toISOString().substring(0,10)},setStartsWithDate:function(t){var e=new Date(t.getFullYear(),0,0);this.startsWithDate=e.toISOString().substring(0,10)},getTransactions:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.$post("/transactions",{wallet_id:t,starts_with_date:e.startsWithDate,ends_with_date:e.endsWithDate}).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCategoryLink(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:t})}));case 2:case"end":return r.stop()}}),r)})))()},getCategories:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.$axios.$post("/categories",{user_id:t}).then((function(t){r.categories=t,r.transactions=e})).catch((function(t){var e=r.$lastElement(r.$splitElement(t.data.message,":"));r.$notify({type:"danger",icon:"tim-icons icon-simple-remove",verticalAlign:"bottom",horizontalAlign:"center",message:e})}));case 2:case"end":return n.stop()}}),n)})))()},fetchCategoryLink:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.$authentication.fetchCurrentUser(e).financialPortfolioId,r.next=3,e.getCategories(n,t);case 3:case"end":return r.stop()}}),r)})))()}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchOverview();case 2:case"end":return e.stop()}}),e)})))()}},E=$,P=Object(h.a)(E,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("transactions-yearly-chart",{attrs:{transactions:t.transactions,categories:t.categories}})],1),t._v(" "),e("div",{staticClass:"col-12"},[e("statistic-cards",{attrs:{transactions:t.transactions,categories:t.categories}})],1),t._v(" "),e("div",{staticClass:"col-lg-5"},[e("card",{attrs:{type:"tasks","header-classes":{"text-right":t.isRTL}}},[e("template",{slot:"header"},[e("h6",{staticClass:"title d-inline"},[t._v("Tasks (5)")]),t._v(" "),e("p",{staticClass:"card-category d-inline"},[t._v("Today")]),t._v(" "),e("base-dropdown",{class:{"float-left":t.isRTL},attrs:{"menu-on-right":"",tag:"div","title-classes":"btn btn-link btn-icon"}},[e("i",{staticClass:"tim-icons icon-settings-gear-63",attrs:{slot:"title"},slot:"title"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#pablo"}},[t._v(" Action ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#pablo"}},[t._v(" Another action ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#pablo"}},[t._v(" Something else ")])])],1),t._v(" "),e("div",{staticClass:"table-full-width table-responsive"},[e("task-list")],1)],2)],1)])}),[],!1,null,null,null);e.default=P.exports}}]);